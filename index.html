<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Valentine's Day üíï</title>
    <link href="https://fonts.googleapis.com/css2?family=Mali:wght@300;400;600;700&family=Prompt:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'Mali', 'Prompt', sans-serif;
    background: linear-gradient(135deg, #fff0f5 0%, #ffe4ec 50%, #fff5f8 100%);
    min-height: 100vh;
    overflow-x: hidden;
    position: relative;
}

/* Floating Hearts Background */
.floating-hearts {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    overflow: hidden;
    z-index: 1;
}

.heart {
    position: absolute;
    font-size: 20px;
    animation: float-up 10s linear infinite;
    opacity: 0.6;
}

@keyframes float-up {
    0% {
        transform: translateY(100vh) rotate(0deg);
        opacity: 0;
    }
    10% {
        opacity: 0.6;
    }
    90% {
        opacity: 0.6;
    }
    100% {
        transform: translateY(-100px) rotate(720deg);
        opacity: 0;
    }
}

/* Page Container */
.page {
    display: none;
    min-height: 100vh;
    padding: 20px;
    position: relative;
    z-index: 10;
}

.page.active {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
}

/* Welcome Page */
.welcome-container {
    text-align: center;
    animation: fade-in 1.5s ease-out;
}

@keyframes fade-in {
    from { opacity: 0; transform: translateY(30px); }
    to { opacity: 1; transform: translateY(0); }
}

.big-heart {
    font-size: 120px;
    animation: heartbeat 1.2s ease-in-out infinite;
    margin-bottom: 20px;
    cursor: pointer;
    filter: drop-shadow(0 10px 30px rgba(255, 105, 180, 0.4));
}

@keyframes heartbeat {
    0%, 100% { transform: scale(1); }
    25% { transform: scale(1.1); }
    50% { transform: scale(1); }
    75% { transform: scale(1.15); }
}

.welcome-text {
    font-size: 2.5rem;
    color: #d63384;
    margin-bottom: 10px;
    text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
}

.sub-text {
    font-size: 1.2rem;
    color: #ff6b9d;
    margin-bottom: 30px;
}

.start-btn {
    background: linear-gradient(45deg, #ff6b9d, #ff8fab);
    color: white;
    border: none;
    padding: 18px 50px;
    font-size: 1.3rem;
    border-radius: 50px;
    cursor: pointer;
    box-shadow: 0 8px 25px rgba(255, 107, 157, 0.4);
    transition: all 0.3s ease;
    font-family: 'Mali', sans-serif;
    font-weight: 600;
}

.start-btn:hover {
    transform: translateY(-3px);
    box-shadow: 0 12px 35px rgba(255, 107, 157, 0.5);
}

/* Letter Page */
.letter-container {
    background: white;
    padding: 40px;
    border-radius: 30px;
    max-width: 600px;
    width: 100%;
    box-shadow: 0 20px 60px rgba(255, 105, 180, 0.2);
    position: relative;
    animation: slide-up 1s ease-out;
}

@keyframes slide-up {
    from { opacity: 0; transform: translateY(50px); }
    to { opacity: 1; transform: translateY(0); }
}

.letter-container::before {
    content: 'üíå';
    font-size: 60px;
    position: absolute;
    top: -30px;
    left: 50%;
    transform: translateX(-50%);
}

.letter-title {
    text-align: center;
    font-size: 2rem;
    color: #d63384;
    margin-bottom: 20px;
    margin-top: 20px;
}

.letter-content {
    font-size: 1.1rem;
    line-height: 2;
    color: #555;
    margin-bottom: 20px;
}

.letter-signature {
    text-align: right;
    font-style: italic;
    color: #ff6b9d;
}

/* Gallery Page */
.gallery-container {
    max-width: 900px;
    width: 100%;
}

.gallery-title {
    text-align: center;
    font-size: 2.5rem;
    color: #d63384;
    margin-bottom: 30px;
    text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
}

.photo-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 20px;
    margin-bottom: 30px;
    max-width: 600px;
    margin-left: auto;
    margin-right: auto;
}

.photo-card {
    background: white;
    padding: 15px;
    border-radius: 20px;
    box-shadow: 0 10px 30px rgba(255, 105, 180, 0.15);
    transition: all 0.3s ease;
    cursor: pointer;
    overflow: hidden;
}

.photo-card:hover {
    transform: translateY(-10px) rotate(2deg);
    box-shadow: 0 15px 40px rgba(255, 105, 180, 0.25);
}

.photo-placeholder {
    width: 100%;
    aspect-ratio: 1;
    background: linear-gradient(135deg, #ffe4ec, #fff0f5);
    border-radius: 15px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 4rem;
    margin-bottom: 10px;
    overflow: hidden;
}

.photo-caption {
    text-align: center;
    color: #ff6b9d;
    font-size: 0.95rem;
}

.photo-count {
    display: block;
    text-align: center;
    color: #999;
    font-size: 0.8rem;
    margin-top: 5px;
}

/* Gallery Modal */
.gallery-modal {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.9);
    z-index: 1000;
    justify-content: center;
    align-items: center;
    animation: fadeIn 0.3s ease;
}

.gallery-modal.active {
    display: flex;
}

@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}

.modal-content {
    background: white;
    border-radius: 25px;
    padding: 30px;
    max-width: 800px;
    width: 90%;
    max-height: 90vh;
    overflow: hidden;
    position: relative;
    animation: slideUp 0.4s ease;
}

@keyframes slideUp {
    from { transform: translateY(50px); opacity: 0; }
    to { transform: translateY(0); opacity: 1; }
}

.modal-close {
    position: absolute;
    top: 15px;
    right: 20px;
    background: #ff6b9d;
    color: white;
    border: none;
    width: 40px;
    height: 40px;
    border-radius: 50%;
    font-size: 1.2rem;
    cursor: pointer;
    transition: all 0.3s ease;
    z-index: 10;
}

.modal-close:hover {
    background: #d63384;
    transform: rotate(90deg);
}

.modal-title {
    text-align: center;
    color: #d63384;
    font-size: 1.8rem;
    margin-bottom: 20px;
    margin-top: 10px;
}

.slideshow-container {
    position: relative;
    background: linear-gradient(135deg, #ffe4ec, #fff0f5);
    border-radius: 20px;
    overflow: hidden;
    aspect-ratio: 4/3;
}

.slideshow-slide {
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
}

.slide-image {
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    background-size: cover;
    background-position: center;
    transition: all 0.5s ease;
}

.slide-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

/* Video slide styles */
.slide-image.video-slide {
    background: linear-gradient(135deg, #1a1a2e, #16213e);
}

.slide-image.video-slide video {
    width: 100%;
    height: 100%;
    object-fit: contain;
}

.video-placeholder {
    font-size: 5rem;
    color: white;
}

.slideshow-dots {
    position: absolute;
    bottom: 60px;
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    gap: 10px;
    z-index: 10;
}

.dot {
    width: 12px;
    height: 12px;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.5);
    cursor: pointer;
    transition: all 0.3s ease;
    border: 2px solid transparent;
}

.dot.active {
    background: #ff6b9d;
    transform: scale(1.2);
    border-color: white;
}

.dot:hover {
    background: #ff8fab;
}

.slideshow-progress {
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    height: 5px;
    background: rgba(255, 255, 255, 0.3);
}

.progress-bar {
    height: 100%;
    background: linear-gradient(90deg, #ff6b9d, #ff8fab);
    width: 0%;
}

.progress-bar.animating {
    animation: progress-fill 3s linear;
}

@keyframes progress-fill {
    from { width: 0%; }
    to { width: 100%; }
}

.slideshow-controls {
    display: flex;
    justify-content: center;
    gap: 20px;
    margin-top: 20px;
}

.control-btn {
    background: linear-gradient(45deg, #ff6b9d, #ff8fab);
    color: white;
    border: none;
    width: 50px;
    height: 50px;
    border-radius: 50%;
    font-size: 1.2rem;
    cursor: pointer;
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    justify-content: center;
}

.control-btn:hover {
    transform: scale(1.1);
    box-shadow: 0 5px 20px rgba(255, 107, 157, 0.4);
}

.modal-caption {
    text-align: center;
    color: #666;
    margin-top: 15px;
    font-size: 1rem;
    min-height: 24px;
}

/* Quiz Page */
.quiz-container {
    max-width: 500px;
    width: 100%;
    text-align: center;
}

.quiz-title {
    font-size: 2rem;
    color: #d63384;
    margin-bottom: 20px;
}

.quiz-card {
    background: white;
    padding: 40px;
    border-radius: 25px;
    box-shadow: 0 15px 50px rgba(255, 105, 180, 0.2);
}

.love-game-card {
    position: relative;
    overflow: visible;
    min-height: 300px;
    transition: background 0.5s ease;
}

.love-game-question {
    font-size: 1.5rem;
    color: #d63384;
    margin-bottom: 40px;
    font-weight: 600;
}

.love-game-options {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 30px;
    min-height: 150px;
    position: relative;
}

.love-btn {
    padding: 20px 50px;
    font-size: 1.4rem;
    border-radius: 50px;
    border: none;
    cursor: pointer;
    font-family: 'Mali', sans-serif;
    font-weight: 700;
    transition: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
    position: relative;
    user-select: none;
}

.love-yes {
    background: linear-gradient(45deg, #ff6b9d, #ff8fab);
    color: white;
    box-shadow: 0 8px 25px rgba(255, 107, 157, 0.4);
    transform: scale(1);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    z-index: 100;
    position: relative;
}

.love-yes:hover {
    transform: scale(1.1);
    box-shadow: 0 12px 35px rgba(255, 107, 157, 0.5);
}

.love-no {
    background: linear-gradient(45deg, #e0e0e0, #f0f0f0);
    color: #888;
    border: 2px solid #ccc;
    position: relative;
    transition: all 0.2s ease;
    z-index: 50;
    box-shadow: 0 4px 15px rgba(0,0,0,0.1);
}

.love-game-hint {
    margin-top: 30px;
    color: #ff8fab;
    font-size: 1rem;
    font-style: italic;
    opacity: 1;
    transition: opacity 0.3s ease;
}

.love-success-message {
    background: white;
    padding: 40px;
    border-radius: 25px;
    max-width: 500px;
    width: 100%;
    margin-top: 20px;
    box-shadow: 0 20px 60px rgba(255, 105, 180, 0.3);
    animation: successPop 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

@keyframes successPop {
    0% { transform: scale(0); opacity: 0; }
    50% { transform: scale(1.1); }
    100% { transform: scale(1); opacity: 1; }
}

.success-content {
    text-align: center;
}

.success-content h3 {
    color: #d63384;
    font-size: 1.8rem;
    margin-bottom: 15px;
}

.success-content p {
    color: #ff6b9d;
    font-size: 1.3rem;
    margin-bottom: 20px;
}

.heart-explosion {
    font-size: 2.5rem;
    animation: heartBurst 1s ease-in-out infinite;
}

@keyframes heartBurst {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.2); }
}

/* Final Surprise Page */
.surprise-container {
    text-align: center;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    min-height: 80vh;
    gap: 30px;
}

.surprise-title {
    font-size: 2.5rem;
    color: #d63384;
    margin-bottom: 20px;
    animation: bounce 1s ease-in-out infinite;
    position: relative;
    z-index: 200;
}

@keyframes bounce {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-20px); }
}

.gift-stage {
    position: relative;
    width: 700px;
    height: 320px;
    display: flex;
    align-items: center;
    justify-content: center;
    margin-top: 20px;
}

.gift-box {
    width: 180px;
    height: 180px;
    cursor: pointer;
    transition: all 0.5s ease;
    position: absolute;
}

.gift-box.hidden {
    opacity: 0;
    pointer-events: none;
}

.gift-emoji {
    font-size: 150px;
    display: block;
    transition: all 0.5s ease;
}

.gift-box:hover .gift-emoji {
    transform: scale(1.1);
}

.gift-box.opening .gift-emoji {
    animation: gift-open 0.5s ease-out forwards;
}

@keyframes gift-open {
    0% { transform: scale(1); }
    50% { transform: scale(1.2); }
    100% { transform: scale(0); opacity: 0; }
}

.surprise-message {
    background: white;
    padding: 0;
    border-radius: 25px;
    max-width: 700px;
    width: 90%;
    height: 400px;
    box-shadow: 0 20px 60px rgba(255, 105, 180, 0.3);
    transform: scale(0);
    opacity: 0;
    transition: all 0.5s ease;
    position: absolute;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    overflow: visible;
}

.surprise-message.show {
    transform: scale(1);
    opacity: 1;
}

.message-content {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    text-align: center;
    height: 100%;
    padding: 20px 40px;
}

.surprise-message h2 {
    font-size: 1.6rem;
    color: #d63384;
    margin-bottom: 15px;
    margin-top: 0;
}

.surprise-message p {
    font-size: 1rem;
    color: #555;
    line-height: 1.7;
    margin-bottom: 10px;
}

.heart-row {
    font-size: 2rem;
    margin: 10px 0;
    letter-spacing: 5px;
}

/* Navigation Buttons */
.nav-btns {
    display: flex;
    gap: 15px;
    margin-top: 30px;
    flex-wrap: wrap;
    justify-content: center;
}

.nav-btn {
    background: white;
    border: 2px solid #ff8fab;
    padding: 12px 30px;
    border-radius: 50px;
    font-size: 1rem;
    color: #d63384;
    cursor: pointer;
    transition: all 0.3s ease;
    font-family: 'Mali', sans-serif;
}

.nav-btn:hover {
    background: linear-gradient(45deg, #ff6b9d, #ff8fab);
    color: white;
    border-color: transparent;
}

.nav-btn.primary {
    background: linear-gradient(45deg, #ff6b9d, #ff8fab);
    color: white;
    border: none;
}

.nav-btn.primary:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(255, 107, 157, 0.4);
}

/* Confetti */
.confetti-container {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 100;
}

.confetti {
    position: absolute;
    width: 10px;
    height: 10px;
    animation: confetti-fall 3s ease-out forwards;
}

@keyframes confetti-fall {
    0% {
        transform: translateY(-100px) rotate(0deg);
        opacity: 1;
    }
    100% {
        transform: translateY(100vh) rotate(720deg);
        opacity: 0;
    }
}

/* Kiss Animation */
.kiss {
    position: fixed;
    font-size: 40px;
    pointer-events: none;
    z-index: 50;
    animation: kiss-float 2s ease-out forwards;
}

@keyframes kiss-float {
    0% {
        transform: scale(0) translateY(0);
        opacity: 1;
    }
    50% {
        transform: scale(1.2) translateY(-50px);
    }
    100% {
        transform: scale(1) translateY(-100px);
        opacity: 0;
    }
}

/* Sparkle Effect */
.sparkle {
    position: fixed;
    width: 20px;
    height: 20px;
    pointer-events: none;
    z-index: 60;
    animation: sparkle 1s ease-out forwards;
}

@keyframes sparkle {
    0% {
        transform: scale(0) rotate(0deg);
        opacity: 1;
    }
    100% {
        transform: scale(2) rotate(180deg);
        opacity: 0;
    }
}

/* Responsive */
@media (max-width: 600px) {
    .welcome-text {
        font-size: 1.8rem;
    }
    .big-heart {
        font-size: 80px;
    }
    .letter-container,
    .quiz-card {
        padding: 25px;
    }
    .surprise-title {
        font-size: 2rem;
    }
    .photo-grid {
        grid-template-columns: repeat(2, 1fr);
        gap: 10px;
    }
    .gift-stage {
        width: 100%;
        height: 300px;
    }
    .surprise-message {
        padding: 20px;
        max-height: none;
        max-width: 90%;
    }
}
    </style>
</head>
<body>
    <!-- Floating Hearts Background -->
    <div class="floating-hearts" id="floatingHearts"></div>

    <!-- Confetti Container -->
    <div class="confetti-container" id="confettiContainer"></div>

    <!-- Page 1: Welcome -->
    <div class="page active" id="page1">
        <div class="welcome-container">
            <div class="big-heart" onclick="createKiss(event)">üíñ</div>
            <h1 class="welcome-text">Happy Valentine's Day</h1>
            <p class="sub-text">‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ó‡∏µ‡πà‡∏´‡∏±‡∏ß‡πÉ‡∏à‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡πà‡∏á‡∏à‡∏∏‡πä‡∏ö üíã ‡∏´‡∏£‡∏∑‡∏≠‡∏Å‡∏î‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏•‡∏¢!</p>
            <button class="start-btn" onclick="nextPage(2)">‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏•‡∏¢ üíï</button>
        </div>
    </div>

    <!-- Page 2: Letter -->
    <div class="page" id="page2">
        <div class="letter-container">
            <h2 class="letter-title">‡∏à‡∏î‡∏´‡∏°‡∏≤‡∏¢‡∏ñ‡∏∂‡∏á‡πÄ‡∏ò‡∏≠ üíå</h2>
            <div class="letter-content">
                <p>‡∏ó‡∏µ‡πà‡∏£‡∏±‡∏Å,</p>
                <br>
                <p>&nbsp;&nbsp;&nbsp;&nbsp;‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏ß‡∏±‡∏ô‡∏û‡∏¥‡πÄ‡∏®‡∏©‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏≤‡πÑ‡∏î‡πâ‡∏£‡πà‡∏ß‡∏°‡∏â‡∏•‡∏≠‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏±‡∏Å‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏±‡∏ô‡πÄ‡∏Ñ‡πâ‡∏≤‡∏≠‡∏¢‡∏≤‡∏Å‡πÉ‡∏´‡πâ‡πÄ‡∏ò‡∏≠‡∏£‡∏π‡πâ‡∏ß‡πà‡∏≤‡πÄ‡∏ò‡∏≠‡∏Ñ‡∏∑‡∏≠‡∏Ñ‡∏ô‡∏û‡∏¥‡πÄ‡∏®‡∏©‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡πÉ‡∏ô‡πÇ‡∏•‡∏Å‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏Ñ‡πâ‡∏≤</p>
                <br>
                <p>&nbsp;&nbsp;&nbsp;&nbsp;‡∏ó‡∏∏‡∏Å‡πÜ ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏≠‡∏¢‡∏π‡πà‡∏Å‡∏±‡∏ö‡πÄ‡∏ò‡∏≠‡∏Ñ‡∏∑‡∏≠‡∏Ç‡∏≠‡∏á‡∏Ç‡∏ß‡∏±‡∏ç‡∏ó‡∏µ‡πà‡∏•‡πâ‡∏≥‡∏Ñ‡πà‡∏≤ ‡∏£‡∏≠‡∏¢‡∏¢‡∏¥‡πâ‡∏°‡∏Ç‡∏≠‡∏á‡πÄ‡∏ò‡∏≠‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡πÇ‡∏•‡∏Å‡∏Ç‡∏≠‡∏á‡πÄ‡∏Ñ‡πâ‡∏≤‡∏™‡∏î‡πÉ‡∏™‡∏Ç‡∏∂‡πâ‡∏ô‡∏°‡∏≤‡∏ó‡∏±‡∏ô‡∏ó‡∏µ ‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏µ‡πà‡πÄ‡∏Ç‡πâ‡∏≤‡∏°‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∏‡∏Ç‡πÉ‡∏ô‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï‡πÄ‡∏Ñ‡πâ‡∏≤‡∏ô‡∏∞</p>
                <br>
                <p>&nbsp;&nbsp;&nbsp;&nbsp;‡∏£‡∏±‡∏Å‡πÄ‡∏ò‡∏≠‡∏°‡∏≤‡∏Å‡∏Å‡∏Å‡∏Å‡∏Å üíï</p>
            </div>
            <p class="letter-signature">‡∏à‡∏≤‡∏Å‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà‡∏£‡∏±‡∏Å‡πÄ‡∏ò‡∏≠‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î</p>
        </div>
        <div class="nav-btns">
            <button class="nav-btn" onclick="prevPage(1)">‚¨ÖÔ∏è ‡∏Å‡πà‡∏≠‡∏ô‡∏´‡∏ô‡πâ‡∏≤</button>
            <button class="nav-btn primary" onclick="nextPage(3)">‡∏ï‡πà‡∏≠‡πÑ‡∏õ ‚û°Ô∏è</button>
        </div>
    </div>

    <!-- Page 3: Photo Gallery -->
    <div class="page" id="page3">
        <div class="gallery-container">
            <h2 class="gallery-title">‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏£‡∏á‡∏à‡∏≥‡∏ó‡∏µ‡πà‡∏ô‡πà‡∏≤‡∏£‡∏±‡∏Å üì∏‚ú®</h2>
            <div class="photo-grid">
                <div class="photo-card" onclick="openGallery('smile')">
                    <div class="photo-placeholder"></div>
                    <p class="photo-caption">‡∏£‡∏≠‡∏¢‡∏¢‡∏¥‡πâ‡∏°‡∏ó‡∏µ‡πà‡∏ô‡πà‡∏≤‡∏£‡∏±‡∏Å‡∏Ç‡∏≠‡∏á‡πÄ‡∏ò‡∏≠</p>
                    <span class="photo-count">üì∑ 4 ‡∏£‡∏π‡∏õ</span>
                </div>
                
                <div class="photo-card" onclick="openGallery('date')">
                    <div class="photo-placeholder"></div>
                    <p class="photo-caption">‡πÄ‡∏î‡∏ó‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤</p>
                    <span class="photo-count">üì∑ 3 ‡∏£‡∏π‡∏õ</span>
                </div>
            </div>
            <p style="text-align: center; color: #ff6b9d; font-style: italic;">üí° ‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ó‡∏µ‡πà‡∏£‡∏π‡∏õ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏™‡πÑ‡∏•‡∏î‡πå‡πÇ‡∏ä‡∏ß‡πå!</p>
        </div>
        <div class="nav-btns">
            <button class="nav-btn" onclick="prevPage(2)">‚¨ÖÔ∏è ‡∏Å‡πà‡∏≠‡∏ô‡∏´‡∏ô‡πâ‡∏≤</button>
            <button class="nav-btn primary" onclick="nextPage(5)">‡∏ï‡πà‡∏≠‡πÑ‡∏õ ‚û°Ô∏è</button>
        </div>
    </div>

    <!-- Photo Gallery Modal -->
    <div class="gallery-modal" id="galleryModal">
        <div class="modal-content">
            <button class="modal-close" onclick="closeGallery()">‚úï</button>
            <h3 class="modal-title" id="modalTitle">‡πÅ‡∏Å‡∏•‡πÄ‡∏•‡∏≠‡∏£‡∏µ‡πà</h3>
            
            <div class="slideshow-container">
                <div class="slideshow-slide active">
                    <div class="slide-image" id="slideImage"></div>
                </div>
                
                <div class="slideshow-dots" id="slideshowDots"></div>
                
                <div class="slideshow-progress">
                    <div class="progress-bar" id="progressBar"></div>
                </div>
            </div>
            
            <div class="slideshow-controls">
                <button class="control-btn" onclick="prevSlide()">‚¨ÖÔ∏è</button>
                <button class="control-btn play-pause" id="playPauseBtn" onclick="togglePlay()">‚è∏Ô∏è</button>
                <button class="control-btn" onclick="nextSlide()">‚û°Ô∏è</button>
            </div>
            
            <p class="modal-caption" id="modalCaption">‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏£‡∏π‡∏õ</p>
        </div>
    </div>

    <!-- Page 5: Love Quiz Game -->
    <div class="page" id="page5">
        <div class="quiz-container">
            <h2 class="quiz-title">‡πÄ‡∏Å‡∏°‡∏™‡πå‡∏£‡∏±‡∏Å‡∏ô‡πà‡∏≤‡∏£‡∏±‡∏Å üíù</h2>
            <div class="quiz-card love-game-card">
                <p class="quiz-question love-game-question">‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°: ‡πÄ‡∏ò‡∏≠‡∏£‡∏±‡∏Å‡πÄ‡∏Ñ‡πâ‡∏≤‡πÑ‡∏´‡∏°? ü•∫üíï</p>
                <div class="love-game-options" id="loveGameOptions">
                    <button class="love-btn love-yes" id="loveYesBtn" onclick="handleLoveYes()">‡∏£‡∏±‡∏Å ‚ù§Ô∏è</button>
                    <button class="love-btn love-no" id="loveNoBtn" onclick="handleLoveNoPress(event)">‡πÑ‡∏°‡πà‡∏£‡∏±‡∏Å üíî</button>
                </div>
                <p class="love-game-hint" id="loveGameHint">‡∏•‡∏≠‡∏á‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° "‡πÑ‡∏°‡πà‡∏£‡∏±‡∏Å" ‡∏î‡∏π‡∏™‡∏¥ (‡∏Å‡∏î‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏¢‡πÜ~) üòè</p>
            </div>
            <div class="love-success-message" id="loveSuccessMessage" style="display: none;">
                <div class="success-content">
                    <h3>‡∏£‡∏π‡πâ‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß‡∏ß‡πà‡∏≤‡πÄ‡∏ò‡∏≠‡∏£‡∏±‡∏Å‡πÄ‡∏Ñ‡πâ‡∏≤! üíï</h3>
                    <p>‡∏£‡∏±‡∏Å‡πÄ‡∏ò‡∏≠‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡πÉ‡∏ô‡πÇ‡∏•‡∏Å‡πÄ‡∏•‡∏¢‡∏¢‡∏¢ ‚ù§Ô∏è</p>
                    <div class="heart-explosion">üíñüíïüíóüíìüíûüíò</div>
                </div>
            </div>
        </div>
        <div class="nav-btns">
            <button class="nav-btn" onclick="prevPage(3)">‚¨ÖÔ∏è ‡∏Å‡πà‡∏≠‡∏ô‡∏´‡∏ô‡πâ‡∏≤</button>
            <button class="nav-btn primary" onclick="resetLoveGame(); nextPage(6);">‡∏ï‡πà‡∏≠‡πÑ‡∏õ ‚û°Ô∏è</button>
        </div>
    </div>

    <!-- Page 6: Final Surprise -->
    <div class="page" id="page6">
        <div class="surprise-container">
            <h2 class="surprise-title">üéÅ Surprise ‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢! üéÅ</h2>
            <div class="gift-stage">
                <div class="gift-box" id="giftBox" onclick="openGift()">
                    <span class="gift-emoji">üéÅ</span>
                </div>
                <div class="surprise-message" id="surpriseMessage">
                    <div class="message-content">
                        <h2>üíï ‡∏£‡∏±‡∏Å‡πÄ‡∏ò‡∏≠‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡πÄ‡∏•‡∏¢ üíï</h2>
                        <p>
                            ‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏µ‡πà‡πÄ‡∏Ç‡πâ‡∏≤‡∏°‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏ô‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡πÉ‡∏ô‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï‡πÄ‡∏Ñ‡πâ‡∏≤‡∏ô‡∏∞‡∏Ñ‡∏∞<br>
                            ‡∏£‡∏±‡∏Å‡πÄ‡∏ò‡∏≠‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡πÄ‡∏™‡∏°‡∏≠<br>
                            ‡πÅ‡∏•‡∏∞‡∏à‡∏∞‡∏£‡∏±‡∏Å‡∏ï‡∏•‡∏≠‡∏î‡πÑ‡∏õ üíñ
                        </p>
                        <div class="heart-row">üíùüíïüíóüíìüíûüíò</div>
                        <button class="nav-btn primary" onclick="celebrate()">üéâ ‡∏â‡∏•‡∏≠‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏±‡∏Å!</button>
                    </div>
                </div>
            </div>
        </div>
        <div class="nav-btns" style="margin-top: 20px; position: relative; z-index: 10;">
            <button class="nav-btn" onclick="resetGiftAndGoBack()">‚¨ÖÔ∏è ‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏î‡∏π‡πÉ‡∏´‡∏°‡πà</button>
        </div>
    </div>

    <script>
// Gallery Data
const galleryData = {
    smile: {
        title: '‡∏£‡∏≠‡∏¢‡∏¢‡∏¥‡πâ‡∏°‡∏ó‡∏µ‡πà‡∏ô‡πà‡∏≤‡∏£‡∏±‡∏Å‡∏Ç‡∏≠‡∏á‡πÄ‡∏ò‡∏≠ üòç',
        items: [
            { type: 'image', src: 'images/you_1.jpg', caption: '‡∏¢‡∏¥‡πâ‡∏°‡∏´‡∏ß‡∏≤‡∏ô‡πÜ ‡∏Ç‡∏≠‡∏á‡πÄ‡∏ò‡∏≠' },
            { type: 'video', src: 'videos/you_1.mp4', caption: '‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠‡∏ô‡πà‡∏≤‡∏£‡∏±‡∏Å‡∏Ç‡∏≠‡∏á‡πÄ‡∏ò‡∏≠' },
            { type: 'video', src: 'videos/you_2.mp4', caption: '‡∏ä‡πà‡∏ß‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡∏û‡∏¥‡πÄ‡∏®‡∏©' },
            { type: 'video', src: 'videos/you_3.mp4', caption: '‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏£‡∏á‡∏à‡∏≥‡∏î‡∏µ‡πÜ' },
        ]
    },
    date: {
        title: '‡πÄ‡∏î‡∏ó‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤ üíë',
        items: [
            { type: 'image', src: 'images/date_1.jpg', caption: '‡πÄ‡∏î‡∏ó‡∏ó‡∏µ‡πà‡∏Ñ‡∏≤‡πÄ‡∏ü‡πà‡∏ô‡πà‡∏≤‡∏£‡∏±‡∏Å' },
            { type: 'image', src: 'images/date_2.jpg', caption: '‡∏ó‡∏≤‡∏ô‡∏Ç‡πâ‡∏≤‡∏ß‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏±‡∏ô' },
            { type: 'video', src: 'videos/album_UTW001zEqMW4_output.mp4', caption: '‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠‡∏ï‡∏≠‡∏ô‡πÄ‡∏î‡∏ó' },
        ]
    }
};

// Gallery State
let currentGallery = null;
let currentSlide = 0;
let isPlaying = true;
let slideInterval = null;
const SLIDE_DURATION = 3000;

// Open Gallery
function openGallery(galleryId) {
    currentGallery = galleryId;
    currentSlide = 0;
    isPlaying = true;
    
    const data = galleryData[galleryId];
    document.getElementById('modalTitle').textContent = data.title;
    document.getElementById('galleryModal').classList.add('active');
    
    createDots(data.items.length);
    showSlide(0);
    startSlideshow();
    createGallerySparkles();
}

// Close Gallery
function closeGallery() {
    document.getElementById('galleryModal').classList.remove('active');
    stopSlideshow();
    currentGallery = null;
}

// Create Dots
function createDots(count) {
    const dotsContainer = document.getElementById('slideshowDots');
    dotsContainer.innerHTML = '';
    
    for (let i = 0; i < count; i++) {
        const dot = document.createElement('span');
        dot.className = 'dot' + (i === 0 ? ' active' : '');
        dot.onclick = () => {
            stopSlideshow();
            showSlide(i);
            if (isPlaying) startSlideshow();
        };
        dotsContainer.appendChild(dot);
    }
}

// Show Slide
function showSlide(index) {
    if (!currentGallery) return;
    
    const data = galleryData[currentGallery];
    const items = data.items;
    
    if (index >= items.length) index = 0;
    if (index < 0) index = items.length - 1;
    
    currentSlide = index;
    
    const item = items[index];
    const slideImage = document.getElementById('slideImage');
    
    slideImage.innerHTML = '';
    slideImage.className = 'slide-image';
    
    if (item.type === 'video') {
        // Video slide
        slideImage.classList.add('video-slide');
        if (item.src) {
            // ‡∏°‡∏µ‡πÑ‡∏ü‡∏•‡πå‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠‡∏à‡∏£‡∏¥‡∏á
            slideImage.innerHTML = `
                <video controls autoplay muted playsinline 
                    style="width: 100%; height: 100%; object-fit: contain;"
                    onplay="pauseSlideshow()" 
                    onended="resumeSlideshow()"
                    onpause="checkVideoEnded(this)">
                    <source src="${item.src}" type="video/mp4">
                    ‡πÄ‡∏ö‡∏£‡∏≤‡∏ß‡πå‡πÄ‡∏ã‡∏≠‡∏£‡πå‡πÑ‡∏°‡πà‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠
                </video>
            `;
        } else {
            // ‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÑ‡∏ü‡∏•‡πå - ‡πÅ‡∏™‡∏î‡∏á‡∏Å‡∏£‡∏≠‡∏ö‡πÄ‡∏õ‡∏•‡πà‡∏≤
            slideImage.innerHTML = '';
        }
        pauseSlideshow();
    } else {
        // Image slide
        if (item.src) {
            slideImage.innerHTML = `<img src="${item.src}" alt="${item.caption}">`;
        } else {
            // ‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÑ‡∏ü‡∏•‡πå - ‡πÅ‡∏™‡∏î‡∏á‡∏Å‡∏£‡∏≠‡∏ö‡πÄ‡∏õ‡∏•‡πà‡∏≤
            slideImage.innerHTML = '';
        }
        resumeSlideshow();
    }
    
    document.getElementById('modalCaption').textContent = item.caption;
    
    document.querySelectorAll('.dot').forEach((dot, i) => {
        dot.classList.toggle('active', i === index);
        // ‡πÅ‡∏™‡∏î‡∏á icon ‡∏ö‡∏ô dot ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÅ‡∏¢‡∏Å‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó
        const itemType = items[i].type;
        dot.innerHTML = itemType === 'video' ? 'üé¨' : '';
        dot.style.fontSize = '8px';
        dot.style.display = 'flex';
        dot.style.alignItems = 'center';
        dot.style.justifyContent = 'center';
        dot.style.lineHeight = '1';
    });
    
    const progressBar = document.getElementById('progressBar');
    if (progressBar && isPlaying && item.type !== 'video') {
        progressBar.classList.remove('animating');
        void progressBar.offsetWidth;
        progressBar.classList.add('animating');
    }
}

// Pause slideshow (called when video plays)
function pauseSlideshow() {
    if (slideInterval) {
        clearInterval(slideInterval);
        slideInterval = null;
    }
    const progressBar = document.getElementById('progressBar');
    if (progressBar) {
        progressBar.classList.remove('animating');
    }
}

// Resume slideshow (called when video ends)
function resumeSlideshow() {
    if (!isPlaying) return;
    stopSlideshow();
    slideInterval = setInterval(() => {
        showSlide(currentSlide + 1);
    }, SLIDE_DURATION);
    const progressBar = document.getElementById('progressBar');
    if (progressBar) {
        progressBar.classList.remove('animating');
        void progressBar.offsetWidth;
        progressBar.classList.add('animating');
    }
}

// Check if video ended
function checkVideoEnded(video) {
    if (video.ended || video.paused) {
        resumeSlideshow();
    }
}

// Next/Prev Slide
function nextSlide() {
    stopSlideshow();
    showSlide(currentSlide + 1);
    if (isPlaying) startSlideshow();
}

function prevSlide() {
    stopSlideshow();
    showSlide(currentSlide - 1);
    if (isPlaying) startSlideshow();
}

// Play/Pause
function togglePlay() {
    isPlaying = !isPlaying;
    document.getElementById('playPauseBtn').textContent = isPlaying ? '‚è∏Ô∏è' : '‚ñ∂Ô∏è';
    
    if (isPlaying) {
        startSlideshow();
    } else {
        stopSlideshow();
    }
}

// Start Slideshow
function startSlideshow() {
    stopSlideshow();
    
    const progressBar = document.getElementById('progressBar');
    progressBar.classList.remove('animating');
    void progressBar.offsetWidth;
    progressBar.classList.add('animating');
    
    slideInterval = setInterval(() => {
        showSlide(currentSlide + 1);
        const bar = document.getElementById('progressBar');
        bar.classList.remove('animating');
        void bar.offsetWidth;
        bar.classList.add('animating');
    }, SLIDE_DURATION);
}

// Stop Slideshow
function stopSlideshow() {
    if (slideInterval) {
        clearInterval(slideInterval);
        slideInterval = null;
    }
    const progressBar = document.getElementById('progressBar');
    if (progressBar) {
        progressBar.classList.remove('animating');
    }
}

// Gallery Sparkles
function createGallerySparkles() {
    for (let i = 0; i < 15; i++) {
        setTimeout(() => {
            const sparkle = document.createElement('div');
            sparkle.className = 'sparkle';
            sparkle.innerHTML = ['‚ú®', '‚≠ê', 'üí´', 'üåü'][Math.floor(Math.random() * 4)];
            sparkle.style.left = (Math.random() * 100) + '%';
            sparkle.style.top = (Math.random() * 100) + '%';
            sparkle.style.fontSize = (20 + Math.random() * 30) + 'px';
            document.querySelector('.gallery-modal').appendChild(sparkle);
            setTimeout(() => sparkle.remove(), 1000);
        }, i * 100);
    }
}

// Close modal on outside click
document.addEventListener('click', (e) => {
    const modal = document.getElementById('galleryModal');
    if (e.target === modal) {
        closeGallery();
    }
});

// Keyboard navigation
document.addEventListener('keydown', (e) => {
    if (!currentGallery) return;
    
    if (e.key === 'Escape') closeGallery();
    if (e.key === 'ArrowRight') nextSlide();
    if (e.key === 'ArrowLeft') prevSlide();
    if (e.key === ' ') {
        e.preventDefault();
        togglePlay();
    }
});

// Create floating hearts
function createFloatingHearts() {
    const container = document.getElementById('floatingHearts');
    const hearts = ['üíñ', 'üíï', 'üíó', 'üíì', 'üíû', 'üíò', 'ü©∑'];
    
    setInterval(() => {
        const heart = document.createElement('div');
        heart.className = 'heart';
        heart.innerHTML = hearts[Math.floor(Math.random() * hearts.length)];
        heart.style.left = Math.random() * 100 + '%';
        heart.style.animationDuration = (8 + Math.random() * 6) + 's';
        heart.style.fontSize = (15 + Math.random() * 25) + 'px';
        container.appendChild(heart);
        
        setTimeout(() => heart.remove(), 15000);
    }, 800);
}

// Navigation
function nextPage(pageNum) {
    document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
    document.getElementById('page' + pageNum).classList.add('active');
    
    if (pageNum !== 5) {
        resetLoveGame();
    }
}

function prevPage(pageNum) {
    document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
    document.getElementById('page' + pageNum).classList.add('active');
    
    if (pageNum !== 5) {
        resetLoveGame();
    }
}

// Create kiss effect
function createKiss(e) {
    const kiss = document.createElement('div');
    kiss.className = 'kiss';
    kiss.innerHTML = 'üíã';
    kiss.style.left = e.clientX + 'px';
    kiss.style.top = e.clientY + 'px';
    document.body.appendChild(kiss);
    
    setTimeout(() => kiss.remove(), 2000);
    
    for (let i = 0; i < 5; i++) {
        setTimeout(() => {
            const extraKiss = document.createElement('div');
            extraKiss.className = 'kiss';
            extraKiss.innerHTML = 'üíã';
            extraKiss.style.left = (e.clientX + (Math.random() - 0.5) * 100) + 'px';
            extraKiss.style.top = (e.clientY + (Math.random() - 0.5) * 100) + 'px';
            document.body.appendChild(extraKiss);
            setTimeout(() => extraKiss.remove(), 2000);
        }, i * 200);
    }
}

// Show sparkle effect
function showSparkle(e) {
    const sparkle = document.createElement('div');
    sparkle.className = 'sparkle';
    sparkle.innerHTML = '‚ú®';
    sparkle.style.left = e.clientX + 'px';
    sparkle.style.top = e.clientY + 'px';
    sparkle.style.fontSize = '30px';
    document.body.appendChild(sparkle);
    
    setTimeout(() => sparkle.remove(), 1000);
    
    for (let i = 0; i < 8; i++) {
        const s = document.createElement('div');
        s.className = 'sparkle';
        s.innerHTML = ['‚ú®', '‚≠ê', 'üí´', 'üåü'][Math.floor(Math.random() * 4)];
        s.style.left = (e.clientX + (Math.random() - 0.5) * 150) + 'px';
        s.style.top = (e.clientY + (Math.random() - 0.5) * 150) + 'px';
        s.style.fontSize = (20 + Math.random() * 20) + 'px';
        document.body.appendChild(s);
        setTimeout(() => s.remove(), 1000);
    }
}

// Open gift
function openGift() {
    const box = document.getElementById('giftBox');
    const message = document.getElementById('surpriseMessage');
    
    box.classList.add('opening');
    
    setTimeout(() => {
        box.classList.add('hidden');
        message.classList.add('show');
        createFireworks();
        createConfettiBurst();
    }, 500);
}

// Reset gift
function resetGiftAndGoBack() {
    const box = document.getElementById('giftBox');
    const message = document.getElementById('surpriseMessage');
    
    box.classList.remove('hidden', 'opening');
    message.classList.remove('show');
    
    prevPage(5);
}

// Celebrate
function celebrate() {
    createFireworks();
    createConfettiBurst();
    
    for (let i = 0; i < 50; i++) {
        setTimeout(() => {
            const heart = document.createElement('div');
            heart.className = 'heart';
            heart.innerHTML = ['üíñ', 'üíï', 'üíó', 'üíì', 'üíû'][Math.floor(Math.random() * 5)];
            heart.style.left = Math.random() * 100 + '%';
            heart.style.animationDuration = '5s';
            heart.style.fontSize = (20 + Math.random() * 30) + 'px';
            document.body.appendChild(heart);
            setTimeout(() => heart.remove(), 5000);
        }, i * 50);
    }
}

// Create confetti
function createConfettiBurst() {
    const container = document.getElementById('confettiContainer');
    const colors = ['#ff6b9d', '#ff8fab', '#ffb3c6', '#ffc2d1', '#ffe4ec', '#fff0f5', '#ffd700', '#ff69b4'];
    
    for (let i = 0; i < 50; i++) {
        const confetti = document.createElement('div');
        confetti.className = 'confetti';
        confetti.style.left = Math.random() * 100 + '%';
        confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
        confetti.style.borderRadius = Math.random() > 0.5 ? '50%' : '0';
        confetti.style.width = (8 + Math.random() * 8) + 'px';
        confetti.style.height = confetti.style.width;
        confetti.style.animationDuration = (2 + Math.random() * 2) + 's';
        confetti.style.animationDelay = (Math.random() * 0.5) + 's';
        container.appendChild(confetti);
        
        setTimeout(() => confetti.remove(), 4000);
    }
}

// Create fireworks
function createFireworks() {
    const colors = ['#ff6b9d', '#ff8fab', '#ffb3c6', '#ffd700', '#ff1493', '#ff69b4'];
    
    for (let i = 0; i < 5; i++) {
        setTimeout(() => {
            const x = Math.random() * window.innerWidth;
            const y = Math.random() * window.innerHeight * 0.5;
            const color = colors[Math.floor(Math.random() * colors.length)];
            
            for (let j = 0; j < 20; j++) {
                const particle = document.createElement('div');
                particle.style.position = 'fixed';
                particle.style.width = '6px';
                particle.style.height = '6px';
                particle.style.borderRadius = '50%';
                particle.style.backgroundColor = color;
                particle.style.left = x + 'px';
                particle.style.top = y + 'px';
                particle.style.pointerEvents = 'none';
                particle.style.zIndex = '90';
                
                const angle = (j / 20) * Math.PI * 2;
                const velocity = 100 + Math.random() * 100;
                const tx = Math.cos(angle) * velocity;
                const ty = Math.sin(angle) * velocity;
                
                document.body.appendChild(particle);
                
                const startTime = Date.now();
                const duration = 1000;
                
                function animate() {
                    const elapsed = Date.now() - startTime;
                    const progress = elapsed / duration;
                    
                    if (progress < 1) {
                        const currentX = tx * progress;
                        const currentY = ty * progress + 0.5 * 200 * progress * progress;
                        particle.style.transform = `translate(${currentX}px, ${currentY}px)`;
                        particle.style.opacity = 1 - progress;
                        requestAnimationFrame(animate);
                    } else {
                        particle.remove();
                    }
                }
                
                requestAnimationFrame(animate);
            }
        }, i * 300);
    }
}

// Love Game
let loveGameLevel = 0;
let noButtonRunCount = 0;

function handleLoveNoPress(event) {
    if (event) {
        event.preventDefault();
        event.stopPropagation();
    }
    
    const noBtn = document.getElementById('loveNoBtn');
    const yesBtn = document.getElementById('loveYesBtn');
    const hint = document.getElementById('loveGameHint');
    
    if (!noBtn || noBtn.style.opacity === '0') return;
    
    if (hint && noButtonRunCount === 0) {
        hint.style.opacity = '0';
    }
    
    moveNoButton(noBtn);
    growYesButton(yesBtn);
    
    noButtonRunCount++;
    
    if (loveGameLevel >= 15) {
        setTimeout(() => {
            noBtn.style.opacity = '0';
            noBtn.style.pointerEvents = 'none';
            createConfettiBurst();
            createFireworks();
        }, 300);
    }
}

function moveNoButton(btn) {
    const rect = btn.getBoundingClientRect();
    const viewportWidth = window.innerWidth;
    const viewportHeight = window.innerHeight;
    
    const padding = 80;
    const maxX = viewportWidth - rect.width - padding;
    const maxY = viewportHeight - rect.height - padding;
    
    const newX = padding + Math.random() * (maxX - padding);
    const newY = padding + Math.random() * (maxY - padding);
    
    btn.style.position = 'fixed';
    btn.style.left = newX + 'px';
    btn.style.top = newY + 'px';
    btn.style.transition = 'all 0.3s ease-out';
    btn.style.zIndex = '50';
}

function growYesButton(btn) {
    loveGameLevel++;
    
    const scale = 1 + (loveGameLevel * 0.15);
    btn.style.transform = `scale(${Math.min(scale, 5)})`;
    btn.style.transition = 'transform 0.3s ease';
}

function handleLoveYes() {
    const options = document.getElementById('loveGameOptions');
    const successMsg = document.getElementById('loveSuccessMessage');
    const hint = document.getElementById('loveGameHint');
    
    if (options) options.style.display = 'none';
    if (hint) hint.style.display = 'none';
    if (successMsg) successMsg.style.display = 'block';
    
    createConfettiBurst();
    createConfettiBurst();
    createFireworks();
    
    for (let i = 0; i < 30; i++) {
        setTimeout(() => {
            const heart = document.createElement('div');
            heart.className = 'heart';
            heart.innerHTML = ['üíñ', 'üíï', 'üíó', 'üíì', 'üíû', 'üíò'][Math.floor(Math.random() * 6)];
            heart.style.left = Math.random() * 100 + '%';
            heart.style.animationDuration = '4s';
            heart.style.fontSize = (30 + Math.random() * 40) + 'px';
            document.body.appendChild(heart);
            setTimeout(() => heart.remove(), 4000);
        }, i * 100);
    }
}

function resetLoveGame() {
    const noBtn = document.getElementById('loveNoBtn');
    const yesBtn = document.getElementById('loveYesBtn');
    const options = document.getElementById('loveGameOptions');
    const successMsg = document.getElementById('loveSuccessMessage');
    const hint = document.getElementById('loveGameHint');
    
    loveGameLevel = 0;
    noButtonRunCount = 0;
    
    if (noBtn) {
        noBtn.style = '';
    }
    
    if (yesBtn) {
        yesBtn.style = '';
    }
    
    if (options) options.style.display = 'flex';
    if (successMsg) successMsg.style.display = 'none';
    if (hint) {
        hint.style.display = 'block';
        hint.style.opacity = '1';
    }
}

// Initialize
createFloatingHearts();
    </script>
</body>
</html>
